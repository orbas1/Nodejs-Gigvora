# Gigvora User App Automated Test Report

This document captures the outputs required to certify the Gigvora user mobile
application for release. It is generated after executing the
`update_template/update_tests/test_scripts/user_app_test_script.sh` runner.

## Execution Overview

- **Run identifier:** `gigvora-user-app-tests-<YYYY-MM-DDThh-mm-ssZ>`
- **Execution timestamp (UTC):** `<YYYY-MM-DD hh:mm:ss>`
- **Invoker:** `<CI job URL or engineer name>`
- **Command:**
  ```bash
  ./update_template/update_tests/test_scripts/user_app_test_script.sh --ci --report-dir ./.gigvora/test-reports/user-app
  ```
- **Environment:**
  - Flutter SDK `>= 3.22`
  - Melos CLI installed (or available via `dart pub global run melos`)
  - Device/emulator available for integration tests when they are enabled
  - RBAC test accounts seeded with roles defined in `.env.example`

> ℹ️  The script automatically records detailed logs and a Markdown summary in
> `.gigvora/test-reports/user-app/<run-id>/`.

## Suite Outcomes

| Suite | Status | Duration | Coverage | Key Notes | Log |
|-------|--------|----------|----------|-----------|-----|
| Static analysis | ✅ Pass | `<mm:ss>` | n/a | No analyzer warnings or lint violations. | `user-app/<run-id>/analyze.log` |
| Unit tests | ✅ Pass | `<mm:ss>` | `>= 85%` | Core domain, RBAC guards, and service mocks validated. | `user-app/<run-id>/unit.log` |
| Golden snapshot tests | ✅ Pass | `<mm:ss>` | n/a | UI retains approved layouts across dark/light modes. | `user-app/<run-id>/golden.log` |
| Integration tests | ✅ Pass | `<mm:ss>` | n/a | End-to-end flows succeed with secure API + CORS policies. | `user-app/<run-id>/integration.log` |

> ❗ If any suite fails, update the **Status** column, attach a Jira ticket ID
> in **Key Notes**, and ensure the blocker is resolved before re-running.

## Coverage Snapshot

The `--ci` flag adds coverage reporting for unit tests. Upload
`lcov.info` to the coverage dashboard and ensure the threshold stays above
85% (target 90%+). When coverage drops below threshold, the release cannot
proceed.

```bash
lcov --summary .gigvora/test-reports/user-app/<run-id>/coverage/lcov.info
```

## Release Gates

- ✅ All suites report "Pass" and integration tests prove RBAC + CORS policies
  behave as expected against staging APIs.
- ✅ Static analysis runs with zero warnings.
- ✅ Unit test coverage ≥ 85% overall and ≥ 80% for RBAC/CORS guard modules.
- ✅ Bugs discovered during testing have linked tickets and are triaged.

## Attachments Checklist

- [ ] Markdown summary generated by the script (`summary.md`).
- [ ] Individual suite logs.
- [ ] Coverage artefacts (`lcov.info` and HTML report if generated).
- [ ] Screenshot evidence for any updated golden files.
- [ ] Sign-off comment from QA/approver.

## Follow-up Actions

1. Archive the report folder to long-term storage after sign-off.
2. Notify release management in the #gigvora-release Slack channel.
3. Trigger the production deployment pipeline only after QA approval.
4. Update the AGENTS progress tracker with the new scores.
